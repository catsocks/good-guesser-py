import pytest

from examples import num_squares


@pytest.fixture
def sample_bmp():
    bmp = [
        "               *                                  ",
        "              ***                                 ",
        "             *****                     *          ",
        "            *******                *****          ",
        "           *********            *********         ",
        "          ***********    **   ***********         ",
        "         **************  ****************         ",
        "       ***********************************        ",
        "      ************************************        ",
        "     *************************************        ",
        "     **************************************       ",
        "      *************************************       ",
        "       *************************************      ",
        "        *************************************     ",
        "        **************************************    ",
        "         **************************************   ",
        "         **************************************   ",
        "         ********** ****************************  ",
        "          *******  ****************************** ",
        "          ******   *******************************",
        "          *   *    ****************************** ",
        "                  *****************************   ",
        "                  ****************************    ",
        "                  ***************************     ",
        "                  **************************      ",
        "                     **********************       ",
        "                         *****************        ",
        "                            ****     ****         ",
        "                                      **          ",
        "                                                  ",
    ]
    return [list(row) for row in bmp]


def test_count_pixels(sample_bmp):
    assert num_squares.count_pixels(sample_bmp) == 768


def test_concave_pixels(sample_bmp):
    assert num_squares.concave_pixels(sample_bmp) == 2
